{% extends "pamphlet/base.html" %}
{%load bootstrap4 %}
{% load static %}

{% block content %}
    <style>
        h1{
            text-align: center;
        }
    </style>
    <h1>Hello {{user.username}}</h1>

    <div id="create-status-form-container" class="container">
        <form class="container col-12 col-sm-10 col-md-8 col-lg-6" action="/api/create-status/" method="POST">
            {% csrf_token %}
            <div class="row justify-content-center">
                <textarea class="row" row="5" cols="60" name="text_content" placeholder="Share your ideas with your friends!"></textarea>
            </div>
            <div class="row justify-content-end">
                <label>Visibility:</label>
                <select name="visibility">
                    <option value="PRI"> Only Me </option>
                    <option value="FRI"> Only Friends </option>
                    <option value="PUB"> All People </option>
                    
                </select>
            </div>
            <div class="row justify-content-center" > 
                <input  class="row" type="submit" value="OK">
            </div>
        </form>
    </div>
    <style>
        .status-box{
            border-width: 1px;
            border-color: lightgrey;
            border-style: none none solid none;
            background-color: white;
        }
        main{
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .status-container{
            width: 80%;
        }

    </style>
    
        <div class="status-container container justify-content-center">
            {% for entry in status_list %}

            <div class="row">
                    <div class="status-box col-9 col-sm-10 col-md-11">
                        <div class="row">
                                <div class=" container">
                                    <div class="row" >
                                        {{entry.text_content}}
                                    </div>
                                </div>
                            
                        </div>
                        <div class="row">
                            {% if entry.creation_date == entry.last_edited %}
                                {{entry.creation_date}}
                            {% else %}
                                <p class="date-info">Last edited: {{entry.last_edited}}</p>
                            {%endif%}
                        </div>
                    </div>

            </div>
            {%endfor%}
        </div>

{% endblock%}